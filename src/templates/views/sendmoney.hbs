<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>send</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Arimo:wght@500&family=Baloo+Bhai+2:wght@700&family=Bebas+Neue&family=Josefin+Sans:ital,wght@1,200&family=League+Spartan:wght@700&family=Lobster&family=Poppins:wght@300&family=Rubik:wght@300&family=Ubuntu:wght@300&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/register.css">
</head>
<body>
    {{>navbar}}
    <div class="subcontainer">
    <form action="/sendmoney" method="post" class="formcontainer" onsubmit="process(event)">
    <h2 class="font border-set">Transfer Money</h2>
    <li class="list-container">
    <label for="sender" >Sender's Account no: </label><br>
    <input type="number" name="sender" value="{{accountno}}" class="input-container" id="sender">
    <div class="error" id="sendererror">Invalid Sender ID!</div>
    </li>
    <li class="list-container">
    <label for="amount">Amount: </label><br>
    <input type="number" name="amount" class="input-container" id="amount">
    <div class="error" id="amounterror">Invalid Amount!</div>
    </li>
    <li class="list-container">
    <label for="receiver">Receiver's Account no:</label><br>
    <input type="number" name="receiver" class="input-container" id="receiver">
    <div class="error" id="receivererror">Invalid Receiver ID!</div>
    </li>
    <input type="submit" value="Send Money" class="btn list-container font">
    </form>
    </div>

    {{>footer}}

    <script>
        const sender = document.getElementById('sender');
        const sendererror = document.getElementById('sendererror');

        const receiver = document.getElementById('receiver');
        const receivererror = document.getElementById('receivererror')

        const amount = document.getElementById('amount');
        const amounterror = document.getElementById('amounterror');

        function process(event){
            if(sender.value.length == 0){
                event.preventDefault();
                sendererror.innerText = "Please fill this field";
                sendererror.style.opacity = "1";
            }
            else if(sender.value.length >8){
                event.preventDefault();
                sendererror.innerText="Account no must be of 8 digit!";
                sendererror.style.opacity="1";
            }
            else if(sender.value.length <8){
                event.preventDefault();
                sendererror.innerText="Account no must be of 8 digit!";
                sendererror.style.opacity="1";
            }
            else if(sender.value <=0){
                event.preventDefault();
                sendererror.innerText="Invalid account no!";
                sendererror.style.opacity="1";
            }
            else{
                sendererror.style.opacity="0";
            }

            if(amount.value.length == ""){
                event.preventDefault();
                amounterror.innerText = "Please fill this field";
                amounterror.style.opacity = "1";
            }
            else if(amount.value<0){
                event.preventDefault();
                amounterror.innerText = "Invalid amount!";
                amounterror.style.opacity = "1";
            }
            else{
                amounterror.style.opacity = "0";
            }

            if(receiver.value.length == 0){
                event.preventDefault();
                receivererror.innerText = "Please fill this field";
                receivererror.style.opacity = "1";
            }
            else if(receiver.value.length >8){
                event.preventDefault();
                receivererror.innerText="Account no must be of 8 digit!";
                receivererror.style.opacity="1";
            }
            else if(receiver.value.length <8){
                event.preventDefault();
                receivererror.innerText="Account no must be of 8 digit!";
                receivererror.style.opacity="1";
            }
            else if(receiver.value <=0){
                event.preventDefault();
                receivererror.innerText="Invalid account no!";
                receivererror.style.opacity="1";
            }
            else{
                receivererror.style.opacity="0";
            }            
        }

    </script>

</body>
</html>